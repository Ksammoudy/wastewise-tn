{% extends 'citoyen/base.html.twig' %}

{% block title %}Mes rÃ©compenses | WasteWise TN{% endblock %}

{% block body %}

{# ===== HEADER ===== #}
<div class="d-flex align-items-center justify-content-between flex-wrap gap-2 mb-4">
  <div>
    <h2 class="mb-0 ww-title">ğŸ† Mes rÃ©compenses acquises</h2>
    <div class="ww-subtitle">Historique de tes Ã©changes</div>
  </div>

  <a class="btn btn-outline-secondary" href="{{ path('app_citoyen_recompenses') }}">
    <i class="bi bi-gift"></i> Voir les rÃ©compenses
  </a>
</div>

{# ===== CONTENU ===== #}
{% if items is empty %}

  <div class="ww-card p-4 text-muted fw-semibold">
    <i class="bi bi-info-circle"></i>
    Aucune rÃ©compense acquise pour le moment.
  </div>

{% else %}

  <div class="row g-3">
    {% for e in items %}
      <div class="col-12 col-md-6 col-xl-4">
        <div class="ww-soft-card h-100 p-3 d-flex flex-column">

          <div class="fw-bold mb-1" style="font-size:1.05rem;">
            {{ e.recompense.titre }}
          </div>

          <div class="text-muted small mb-2">
            <i class="bi bi-building"></i>
            {{ e.recompense.partenaire ? e.recompense.partenaire.nomEntreprise : 'â€”' }}
          </div>

          <div class="mt-2">
            <span class="ww-badge">
              <i class="bi bi-star-fill"></i>
              {{ e.pointsUtilises }} pts utilisÃ©s
            </span>
          </div>

          <div class="mt-auto pt-3 text-muted small">
            <i class="bi bi-calendar-event"></i>
            {{ e.createdAt ? e.createdAt|date('d/m/Y H:i') : 'â€”' }}
          </div>

        </div>
      </div>
    {% endfor %}
  </div>

{% endif %}

{% endblock %}
