<div class="ww-card2">
  <div class="ww-card2-title">
    {{ title|default('Formulaire') }}
  </div>

  {# âœ… erreurs globales #}
  {% if form.vars.errors|length %}
    <div class="ww-alert" style="margin-bottom:12px;">
      Merci de corriger les erreurs dans le formulaire.
    </div>
  {% endif %}

  {{ form_start(form, { attr: { novalidate: 'novalidate' } }) }}

    <div class="ww-grid-2">
      <div class="ww-field">
        {{ form_label(form.titre, null, { label_attr: { class: 'ww-label' } }) }}
        {{ form_widget(form.titre, {
          attr: { class: 'ww-input', placeholder: 'Titre...' }
        }) }}
        <div class="ww-error">{{ form_errors(form.titre) }}</div>
      </div>

      <div class="ww-field">
        {{ form_label(form.statut, null, { label_attr: { class: 'ww-label' } }) }}
        {{ form_widget(form.statut, { attr: { class: 'ww-input' } }) }}
        <div class="ww-error">{{ form_errors(form.statut) }}</div>
      </div>
    </div>

    <div class="ww-field">
      {{ form_label(form.description, null, { label_attr: { class: 'ww-label' } }) }}
      {{ form_widget(form.description, {
        attr: { class: 'ww-input ww-textarea', rows: 4, placeholder: 'Description...' }
      }) }}
      <div class="ww-error">{{ form_errors(form.description) }}</div>
    </div>

    <div class="ww-grid-2">
      <div class="ww-field">
        {{ form_label(form.dateDebut, null, { label_attr: { class: 'ww-label' } }) }}
        {{ form_widget(form.dateDebut, { attr: { class: 'ww-input' } }) }}
        <div class="ww-error">{{ form_errors(form.dateDebut) }}</div>
      </div>

      <div class="ww-field">
        {{ form_label(form.dateFin, null, { label_attr: { class: 'ww-label' } }) }}
        {{ form_widget(form.dateFin, { attr: { class: 'ww-input' } }) }}
        <div class="ww-error">{{ form_errors(form.dateFin) }}</div>
      </div>
    </div>

    {# âœ… CSRF + champs cachÃ©s #}
    {{ form_rest(form) }}

    <div class="ww-row" style="margin-top:16px; display:flex; gap:10px; justify-content:flex-end; flex-wrap:wrap;">
      {% if action_cancel is defined and action_cancel %}
        <a class="ww-top-btn" href="{{ action_cancel }}">Annuler</a>
      {% endif %}

      <button class="ww-btn ww-btn-mini" type="submit">
        ðŸ’¾ {{ button_label|default('Enregistrer') }}
      </button>
    </div>

  {{ form_end(form) }}
</div>
